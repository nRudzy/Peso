/*! For license information please see app.8b15c012.js.LICENSE.txt */
"use strict";(self.webpackChunkpeso_frontend=self.webpackChunkpeso_frontend||[]).push([[524],{213:(r,t,e)=>{var n=e(425),o=e(644),i={class:"card"},a={class:"flex items-center justify-between mb-6"},u={class:"flex items-center space-x-2"},s={key:1,class:"text-center py-8"},c={key:2,class:"space-y-4"},l={class:"h-64"},d={ref:"chartCanvas"},f={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t"},p={class:"text-center"},v={class:"text-2xl font-bold text-primary-600"},m={class:"text-center"},g={class:"text-2xl font-bold text-success-600"},y={class:"text-center"},h={class:"text-2xl font-bold text-warning-600"},b={class:"text-center"},w={class:"text-2xl font-bold text-gray-600"};function k(r){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},k(r)}function L(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),e.push.apply(e,n)}return e}function x(r){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?L(Object(e),!0).forEach(function(t){E(r,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):L(Object(e)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}return r}function E(r,t,e){return(t=function(r){var t=function(r,t){if("object"!=k(r)||!r)return r;var e=r[Symbol.toPrimitive];if(void 0!==e){var n=e.call(r,t||"default");if("object"!=k(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==k(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}var j=e(83).A.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});j.interceptors.request.use(function(r){var t=localStorage.getItem("jwt_token");return t&&(r.headers.Authorization="Bearer ".concat(t)),r},function(r){return Promise.reject(r)}),j.interceptors.response.use(function(r){return r.data&&void 0!==r.data.data?x(x({},r),{},{data:r.data.data,metadata:r.data.metadata}):r},function(r){var t,e;return 401===(null===(t=r.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("jwt_token"),window.location.href="/login"),422===(null===(e=r.response)||void 0===e?void 0:e.status)?Promise.reject(x(x({},r),{},{validationErrors:r.response.data.errors})):Promise.reject(r)});var S=function(r){return j.post("/auth/login",r)},O=function(r){return j.post("/auth/register",r)},P=function(){return j.get("/auth/profile")},C=function(r){return j.put("/auth/update-profile",r)},_=function(r){return j.post("/auth/change-password",r)},T=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return j.get("/weight-entries?page=".concat(r,"&limit=").concat(t))},A=function(){return j.get("/weight-entries/latest")},G=function(r){return j.post("/weight-entries",r)},D=function(r,t){return j.put("/weight-entries/".concat(r),t)},B=function(r){return j.delete("/weight-entries/".concat(r))},F=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return j.get("/weight-entries/stats/progress?days=".concat(r))};function I(){var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return M(c,"_invoke",function(e,n,o){var i,u,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return i=t,u=0,s=r,f.n=e,a}};function p(e,n){for(u=e,s=n,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],p=f.p,v=i[2];e>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,f.v=n,f.n=i[1]):p<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,f.n=v,u=0))}if(o||e>1)return a;throw d=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),u=l,s=v;(t=u<2?r:s)||!d;){i||(u?u<3?(u>1&&(f.n=-1),p(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((t=(d=f.n<0)?s:e.call(n,f))!==a)break}catch(t){i=r,u=1,s=t}finally{c=1}}return{value:t,done:d}}}(e,o,i),!0),c}var a={};function u(){}function s(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(M(t={},n,function(){return this}),t),d=c.prototype=u.prototype=Object.create(l);function f(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,M(r,o,"GeneratorFunction")),r.prototype=Object.create(d),r}return s.prototype=c,M(d,"constructor",c),M(c,"constructor",s),s.displayName="GeneratorFunction",M(c,o,"GeneratorFunction"),M(d),M(d,o,"Generator"),M(d,n,function(){return this}),M(d,"toString",function(){return"[object Generator]"}),(I=function(){return{w:i,m:f}})()}function M(r,t,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}M=function(r,t,e,n){if(t)o?o(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e;else{var i=function(t,e){M(r,t,function(r){return this._invoke(t,e,r)})};i("next",0),i("throw",1),i("return",2)}},M(r,t,e,n)}function W(r,t,e,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void e(r)}u.done?t(s):Promise.resolve(s).then(n,o)}function X(r){return function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(r){W(i,n,o,a,u,"next",r)}function u(r){W(i,n,o,a,u,"throw",r)}a(void 0)})}}function z(r){return function(r){if(Array.isArray(r))return N(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(r){if("string"==typeof r)return N(r,t);var e={}.toString.call(r).slice(8,-1);return"Object"===e&&r.constructor&&(e=r.constructor.name),"Map"===e||"Set"===e?Array.from(r):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?N(r,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(r,t){(null==t||t>r.length)&&(t=r.length);for(var e=0,n=Array(t);e<t;e++)n[e]=r[e];return n}window.api=j;var R=(0,o.nY)("weight",{state:function(){return{entries:[],latestEntry:null,progress:[],summary:null,pagination:null,isLoading:!1,error:null}},getters:{totalEntries:function(r){return r.entries.length},currentWeight:function(r){var t;return(null===(t=r.latestEntry)||void 0===t?void 0:t.weight)||null},hasEntries:function(r){return r.entries.length>0},sortedEntries:function(r){return z(r.entries).sort(function(r,t){return new Date(t.date)-new Date(r.date)})}},actions:{fetchEntries:function(){var r=arguments,t=this;return X(I().m(function e(){var n,o,i,a,u;return I().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,o=r.length>1&&void 0!==r[1]?r[1]:50,t.isLoading=!0,t.error=null,e.p=1,e.n=2,T(n,o);case 2:return i=e.v,t.entries=i.data,t.pagination=i.metadata,e.a(2,i);case 3:throw e.p=3,u=e.v,t.error=(null===(a=u.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"Erreur de récupération des entrées",u;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},fetchLatestEntry:function(){var r=this;return X(I().m(function t(){var e,n,o;return I().w(function(t){for(;;)switch(t.p=t.n){case 0:return r.isLoading=!0,r.error=null,t.p=1,t.n=2,A();case 2:return e=t.v,r.latestEntry=e.data.entry,t.a(2,e);case 3:throw t.p=3,o=t.v,r.error=(null===(n=o.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Erreur de récupération de la dernière entrée",o;case 4:return t.p=4,r.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},createEntry:function(r){var t=this;return X(I().m(function e(){var n,o,i;return I().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,t.error=null,e.p=1,e.n=2,G(r);case 2:return n=e.v,t.entries.unshift(n.data.entry),(!t.latestEntry||new Date(r.date)>new Date(t.latestEntry.date))&&(t.latestEntry=n.data.entry),e.a(2,n);case 3:throw e.p=3,i=e.v,t.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de création de l'entrée",i;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},updateEntry:function(r,t){var e=this;return X(I().m(function n(){var o,i,a,u,s;return I().w(function(n){for(;;)switch(n.p=n.n){case 0:return e.isLoading=!0,e.error=null,n.p=1,n.n=2,D(r,t);case 2:return i=n.v,-1!==(a=e.entries.findIndex(function(t){return t.id===r}))&&(e.entries[a]=i.data.entry),(null===(o=e.latestEntry)||void 0===o?void 0:o.id)===r&&(e.latestEntry=i.data.entry),n.a(2,i);case 3:throw n.p=3,s=n.v,e.error=(null===(u=s.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.error)||"Erreur de mise à jour de l'entrée",s;case 4:return n.p=4,e.isLoading=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}))()},deleteEntry:function(r){var t=this;return X(I().m(function e(){var n,o,i;return I().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,t.error=null,e.p=1,e.n=2,B(r);case 2:t.entries=t.entries.filter(function(t){return t.id!==r}),(null===(n=t.latestEntry)||void 0===n?void 0:n.id)===r&&(t.latestEntry=t.entries[0]||null),e.n=4;break;case 3:throw e.p=3,i=e.v,t.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de suppression de l'entrée",i;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},fetchProgress:function(){var r=arguments,t=this;return X(I().m(function e(){var n,o,i,a;return I().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:30,t.isLoading=!0,t.error=null,e.p=1,e.n=2,F(n);case 2:return o=e.v,t.progress=o.data.progress,t.summary=o.data.summary,e.a(2,o);case 3:throw e.p=3,a=e.v,t.error=(null===(i=a.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"Erreur de récupération du progrès",a;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},clearError:function(){this.error=null},clearEntries:function(){this.entries=[],this.latestEntry=null,this.progress=[],this.summary=null,this.pagination=null}}}),V=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null==r?"":Number(r).toFixed(t)},U={set:function(r,t){try{localStorage.setItem(r,JSON.stringify(t))}catch(r){console.error("Erreur lors du stockage:",r)}},get:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var e=localStorage.getItem(r);return e?JSON.parse(e):t}catch(r){return console.error("Erreur lors de la récupération:",r),t}},remove:function(r){try{localStorage.removeItem(r)}catch(r){console.error("Erreur lors de la suppression:",r)}},clear:function(){try{localStorage.clear()}catch(r){console.error("Erreur lors du nettoyage:",r)}}};window.helpers={formatDate:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if(!r)return"";var e=new Date(r),n=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return t.replace("YYYY",n).replace("MM",o).replace("DD",i)},formatNumber:V,isValidEmail:function(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)},validatePassword:function(r){var t=/[A-Z]/.test(r),e=/[a-z]/.test(r),n=/\d/.test(r);return{isValid:r.length>=6&&t&&e&&n,errors:{length:r.length<6?"Au moins ".concat(6," caractères"):null,uppercase:t?null:"Au moins une majuscule",lowercase:e?null:"Au moins une minuscule",numbers:n?null:"Au moins un chiffre"}}},calculateBMI:function(r,t){if(!r||!t)return null;var e=r,n=t/100;return"lbs"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kg")&&(e=.453592*r),"inch"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cm")&&(n=.0254*t),e/(n*n)},getBMICategory:function(r){return r?r<18.5?"underweight":r<25?"normal":r<30?"overweight":"obese":null},storage:U,debounce:function(r,t){var e;return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];clearTimeout(e),e=setTimeout(function(){clearTimeout(e),r.apply(void 0,o)},t)}},throttle:function(r,t){var e;return function(){var n=arguments;e||(r.apply(this,n),e=!0,setTimeout(function(){return e=!1},t))}}};var J={key:0,class:"sr-only"};const Y={name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:function(r){return["sm","md","lg"].includes(r)}},showText:{type:Boolean,default:!1}},computed:{spinnerClasses:function(){return"inline-block ".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[this.size])}}};var K=e(262);const Q=(0,K.A)(Y,[["render",function(r,t,e,o,i,a){return(0,n.uX)(),(0,n.CE)("div",{class:(0,n.C4)(a.spinnerClasses),role:"status","aria-label":"Chargement"},[t[0]||(t[0]=(0,n.Lk)("svg",{class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,n.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,n.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),e.showText?((0,n.uX)(),(0,n.CE)("span",J,"Chargement...")):(0,n.Q3)("v-if",!0)],2)}]]);function $(){var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return q(c,"_invoke",function(e,n,o){var i,u,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return i=t,u=0,s=r,f.n=e,a}};function p(e,n){for(u=e,s=n,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],p=f.p,v=i[2];e>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,f.v=n,f.n=i[1]):p<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,f.n=v,u=0))}if(o||e>1)return a;throw d=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),u=l,s=v;(t=u<2?r:s)||!d;){i||(u?u<3?(u>1&&(f.n=-1),p(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((t=(d=f.n<0)?s:e.call(n,f))!==a)break}catch(t){i=r,u=1,s=t}finally{c=1}}return{value:t,done:d}}}(e,o,i),!0),c}var a={};function u(){}function s(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(q(t={},n,function(){return this}),t),d=c.prototype=u.prototype=Object.create(l);function f(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,q(r,o,"GeneratorFunction")),r.prototype=Object.create(d),r}return s.prototype=c,q(d,"constructor",c),q(c,"constructor",s),s.displayName="GeneratorFunction",q(c,o,"GeneratorFunction"),q(d),q(d,o,"Generator"),q(d,n,function(){return this}),q(d,"toString",function(){return"[object Generator]"}),($=function(){return{w:i,m:f}})()}function q(r,t,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}q=function(r,t,e,n){if(t)o?o(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e;else{var i=function(t,e){q(r,t,function(r){return this._invoke(t,e,r)})};i("next",0),i("throw",1),i("return",2)}},q(r,t,e,n)}function H(r,t,e,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void e(r)}u.done?t(s):Promise.resolve(s).then(n,o)}const Z={name:"WeightProgressChart",components:{LoadingSpinner:Q},props:{userId:{type:[String,Number],required:!0}},setup:function(r){var t=R(),e=(0,n.KR)(null),o=(0,n.KR)(30),i=null,a=(0,n.EW)(function(){return t.isLoading}),u=(0,n.EW)(function(){return t.progress}),s=(0,n.EW)(function(){return t.summary}),c=(0,n.EW)(function(){return u.value.length>0}),l=function(){var r,e=(r=$().m(function r(){var e;return $().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,t.fetchProgress(o.value);case 1:d(),r.n=3;break;case 2:r.p=2,e=r.v,console.error("Erreur lors du chargement du progrès:",e);case 3:return r.a(2)}},r,null,[[0,2]])}),function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(r){H(i,n,o,a,u,"next",r)}function u(r){H(i,n,o,a,u,"throw",r)}a(void 0)})});return function(){return e.apply(this,arguments)}}(),d=function(){if(e.value&&c.value){var r=e.value.getContext("2d");i&&i.destroy();var t=u.value.map(function(r){return r.date}),n=u.value.map(function(r){return r.weight}),o=u.value.map(function(r){return r.bmi});i=new Chart(r,{type:"line",data:{labels:t,datasets:[{label:"Poids (kg)",data:n,borderColor:"#0ea5e9",backgroundColor:"rgba(14, 165, 233, 0.1)",borderWidth:2,fill:!0,tension:.4,yAxisID:"y"},{label:"BMI",data:o,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,fill:!1,tension:.4,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Poids (kg)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"BMI"},grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(r){var t=r.dataset.label||"",e=r.parsed.y;return"".concat(t,": ").concat(V(e))}}}}}})}};return(0,n.sV)(function(){l()}),(0,n.wB)(u,d,{deep:!0}),{chartCanvas:e,selectedPeriod:o,isLoading:a,progress:u,summary:s,hasData:c,fetchProgress:l,formatNumber:V}}},rr=(0,K.A)(Z,[["render",function(r,t,e,o,k,L){var x=(0,n.g2)("LoadingSpinner");return(0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("div",a,[t[3]||(t[3]=(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900"},"Progression du poids",-1)),(0,n.Lk)("div",u,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=function(r){return o.selectedPeriod=r}),class:"form-input text-sm py-1",onChange:t[1]||(t[1]=function(){return o.fetchProgress&&o.fetchProgress.apply(o,arguments)})},t[2]||(t[2]=[(0,n.Lk)("option",{value:"7"},"7 jours",-1),(0,n.Lk)("option",{value:"30"},"30 jours",-1),(0,n.Lk)("option",{value:"90"},"90 jours",-1)]),544),[[n.u1,o.selectedPeriod]])])]),o.isLoading?((0,n.uX)(),(0,n.Wv)(x,{key:0,class:"w-8 h-8 mx-auto"})):o.hasData?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.Q3)(" Graphique "),(0,n.Lk)("div",l,[(0,n.Lk)("canvas",d,null,512)]),(0,n.Q3)(" Résumé "),o.summary?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Lk)("div",p,[(0,n.Lk)("p",v,(0,n.v_)(o.formatNumber(o.summary.currentWeight)),1),t[5]||(t[5]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Poids actuel",-1))]),(0,n.Lk)("div",m,[(0,n.Lk)("p",g,(0,n.v_)(o.formatNumber(o.summary.totalWeightLoss)),1),t[6]||(t[6]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Perte totale",-1))]),(0,n.Lk)("div",y,[(0,n.Lk)("p",h,(0,n.v_)(o.formatNumber(o.summary.remainingWeight)),1),t[7]||(t[7]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Reste à perdre",-1))]),(0,n.Lk)("div",b,[(0,n.Lk)("p",w,(0,n.v_)(o.formatNumber(o.summary.targetWeight)),1),t[8]||(t[8]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Objectif",-1))])])):(0,n.Q3)("v-if",!0)])):((0,n.uX)(),(0,n.CE)("div",s,t[4]||(t[4]=[(0,n.Lk)("p",{class:"text-gray-500"},"Aucune donnée disponible",-1),(0,n.Lk)("p",{class:"text-sm text-gray-400 mt-2"},"Ajoutez votre premier poids pour commencer",-1)])))])}]]);var tr={class:"card max-w-md mx-auto"},er=["disabled"],nr=["disabled"];function or(){var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return ir(c,"_invoke",function(e,n,o){var i,u,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return i=t,u=0,s=r,f.n=e,a}};function p(e,n){for(u=e,s=n,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],p=f.p,v=i[2];e>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,f.v=n,f.n=i[1]):p<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,f.n=v,u=0))}if(o||e>1)return a;throw d=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),u=l,s=v;(t=u<2?r:s)||!d;){i||(u?u<3?(u>1&&(f.n=-1),p(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((t=(d=f.n<0)?s:e.call(n,f))!==a)break}catch(t){i=r,u=1,s=t}finally{c=1}}return{value:t,done:d}}}(e,o,i),!0),c}var a={};function u(){}function s(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(ir(t={},n,function(){return this}),t),d=c.prototype=u.prototype=Object.create(l);function f(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,ir(r,o,"GeneratorFunction")),r.prototype=Object.create(d),r}return s.prototype=c,ir(d,"constructor",c),ir(c,"constructor",s),s.displayName="GeneratorFunction",ir(c,o,"GeneratorFunction"),ir(d),ir(d,o,"Generator"),ir(d,n,function(){return this}),ir(d,"toString",function(){return"[object Generator]"}),(or=function(){return{w:i,m:f}})()}function ir(r,t,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}ir=function(r,t,e,n){if(t)o?o(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e;else{var i=function(t,e){ir(r,t,function(r){return this._invoke(t,e,r)})};i("next",0),i("throw",1),i("return",2)}},ir(r,t,e,n)}function ar(r,t,e,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void e(r)}u.done?t(s):Promise.resolve(s).then(n,o)}function ur(r){return function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(r){ar(i,n,o,a,u,"next",r)}function u(r){ar(i,n,o,a,u,"throw",r)}a(void 0)})}}var sr=(0,o.nY)("auth",{state:function(){return{user:null,token:U.get("jwt_token"),isLoading:!1,error:null}},getters:{isAuthenticated:function(r){return!!r.token&&!!r.user},userRole:function(r){var t;return(null===(t=r.user)||void 0===t||null===(t=t.roles)||void 0===t?void 0:t[0])||"ROLE_USER"},isAdmin:function(r){var t;return(null===(t=r.user)||void 0===t||null===(t=t.roles)||void 0===t?void 0:t.includes("ROLE_ADMIN"))||!1}},actions:{login:function(r){var t=this;return ur(or().m(function e(){var n,o,i;return or().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,t.error=null,e.p=1,e.n=2,S(r);case 2:return n=e.v,t.token=n.data.token,t.user=n.data.user,U.set("jwt_token",t.token),e.a(2,n);case 3:throw e.p=3,i=e.v,t.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de connexion",i;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},register:function(r){var t=this;return ur(or().m(function e(){var n,o,i;return or().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,t.error=null,e.p=1,e.n=2,O(r);case 2:return n=e.v,e.a(2,n);case 3:throw e.p=3,i=e.v,t.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur d'inscription",i;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},fetchProfile:function(){var r=this;return ur(or().m(function t(){var e,n,o;return or().w(function(t){for(;;)switch(t.p=t.n){case 0:if(r.token){t.n=1;break}return t.a(2);case 1:return r.isLoading=!0,r.error=null,t.p=2,t.n=3,P();case 3:return e=t.v,r.user=e.data.user,t.a(2,e);case 4:throw t.p=4,o=t.v,r.error=(null===(n=o.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Erreur de récupération du profil",o;case 5:return t.p=5,r.isLoading=!1,t.f(5);case 6:return t.a(2)}},t,null,[[2,4,5,6]])}))()},updateProfile:function(r){var t=this;return ur(or().m(function e(){var n,o,i;return or().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,t.error=null,e.p=1,e.n=2,C(r);case 2:return n=e.v,t.user=n.data.user,e.a(2,n);case 3:throw e.p=3,i=e.v,t.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de mise à jour du profil",i;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},changePassword:function(r){var t=this;return ur(or().m(function e(){var n,o,i;return or().w(function(e){for(;;)switch(e.p=e.n){case 0:return t.isLoading=!0,t.error=null,e.p=1,e.n=2,_(r);case 2:return n=e.v,e.a(2,n);case 3:throw e.p=3,i=e.v,t.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de changement de mot de passe",i;case 4:return e.p=4,t.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},logout:function(){this.user=null,this.token=null,this.error=null,U.remove("jwt_token"),document.cookie="jwt_token=;expires=Thu, 01 Jan 1970 00:00:00 UTC;path=/;",window.location.href="/"},clearError:function(){this.error=null}}}),cr=["type","disabled"];const lr={name:"BaseButton",components:{LoadingSpinner:Q},props:{variant:{type:String,default:"primary",validator:function(r){return["primary","secondary","danger","success","warning"].includes(r)}},size:{type:String,default:"md",validator:function(r){return["sm","md","lg"].includes(r)}},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},computed:{buttonClasses:function(){var r=this.fullWidth?"w-full":"";return"".concat("btn font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 disabled:bg-gray-100",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500 disabled:bg-danger-300",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500 disabled:bg-success-300",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500 disabled:bg-warning-300"}[this.variant]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[this.size]," ").concat(r)}},methods:{handleClick:function(r){this.disabled||this.loading||this.$emit("click",r)}}},dr=(0,K.A)(lr,[["render",function(r,t,e,o,i,a){var u=(0,n.g2)("LoadingSpinner");return(0,n.uX)(),(0,n.CE)("button",{type:e.type,disabled:e.disabled||e.loading,class:(0,n.C4)(a.buttonClasses),onClick:t[0]||(t[0]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},[e.loading?((0,n.uX)(),(0,n.Wv)(u,{key:0,class:"w-4 h-4 mr-2"})):(0,n.Q3)("v-if",!0),(0,n.RG)(r.$slots,"default")],10,cr)}]]);var fr={class:"flex items-start"},pr={class:"flex-shrink-0"},vr={class:"ml-3 flex-1"},mr={class:"text-sm font-medium"},gr={key:0,class:"mt-1 text-sm opacity-90"},yr={key:0,class:"ml-auto pl-3"};const hr={name:"Alert",props:{type:{type:String,default:"info",validator:function(r){return["info","success","warning","error"].includes(r)}},description:{type:String,default:""},dismissible:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},computed:{alertClasses:function(){return"".concat("rounded-lg p-4 border"," ").concat({info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[this.type])},dismissButtonClasses:function(){return{info:"text-primary-500 hover:text-primary-700 focus:ring-primary-500",success:"text-success-500 hover:text-success-700 focus:ring-success-500",warning:"text-warning-500 hover:text-warning-700 focus:ring-warning-500",error:"text-danger-500 hover:text-danger-700 focus:ring-danger-500"}[this.type]},iconComponent:function(){return{info:"InfoIcon",success:"SuccessIcon",warning:"WarningIcon",error:"ErrorIcon"}[this.type]}},methods:{handleDismiss:function(){this.$emit("dismiss")}}};"undefined"!=typeof window&&(window.InfoIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />\n    </svg>\n  '},window.SuccessIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />\n    </svg>\n  '},window.WarningIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />\n    </svg>\n  '},window.ErrorIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />\n    </svg>\n  '});const br=(0,K.A)(hr,[["render",function(r,t,e,o,i,a){return e.show?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(a.alertClasses),role:"alert"},[(0,n.Lk)("div",fr,[(0,n.Lk)("div",pr,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(a.iconComponent),{class:"w-5 h-5"}))]),(0,n.Lk)("div",vr,[(0,n.Lk)("p",mr,[(0,n.RG)(r.$slots,"default")]),e.description?((0,n.uX)(),(0,n.CE)("p",gr,(0,n.v_)(e.description),1)):(0,n.Q3)("v-if",!0)]),e.dismissible?((0,n.uX)(),(0,n.CE)("div",yr,[(0,n.Lk)("button",{type:"button",class:(0,n.C4)(["inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2",a.dismissButtonClasses]),onClick:t[0]||(t[0]=function(){return a.handleDismiss&&a.handleDismiss.apply(a,arguments)})},t[1]||(t[1]=[(0,n.Lk)("span",{class:"sr-only"},"Fermer",-1),(0,n.Lk)("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[(0,n.Lk)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2)])):(0,n.Q3)("v-if",!0)])],2)):(0,n.Q3)("v-if",!0)}]]);function wr(){var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return kr(c,"_invoke",function(e,n,o){var i,u,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return i=t,u=0,s=r,f.n=e,a}};function p(e,n){for(u=e,s=n,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],p=f.p,v=i[2];e>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,f.v=n,f.n=i[1]):p<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,f.n=v,u=0))}if(o||e>1)return a;throw d=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),u=l,s=v;(t=u<2?r:s)||!d;){i||(u?u<3?(u>1&&(f.n=-1),p(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((t=(d=f.n<0)?s:e.call(n,f))!==a)break}catch(t){i=r,u=1,s=t}finally{c=1}}return{value:t,done:d}}}(e,o,i),!0),c}var a={};function u(){}function s(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(kr(t={},n,function(){return this}),t),d=c.prototype=u.prototype=Object.create(l);function f(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,kr(r,o,"GeneratorFunction")),r.prototype=Object.create(d),r}return s.prototype=c,kr(d,"constructor",c),kr(c,"constructor",s),s.displayName="GeneratorFunction",kr(c,o,"GeneratorFunction"),kr(d),kr(d,o,"Generator"),kr(d,n,function(){return this}),kr(d,"toString",function(){return"[object Generator]"}),(wr=function(){return{w:i,m:f}})()}function kr(r,t,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}kr=function(r,t,e,n){if(t)o?o(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e;else{var i=function(t,e){kr(r,t,function(r){return this._invoke(t,e,r)})};i("next",0),i("throw",1),i("return",2)}},kr(r,t,e,n)}function Lr(r,t,e,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void e(r)}u.done?t(s):Promise.resolve(s).then(n,o)}const xr={name:"LoginForm",components:{BaseButton:dr,Alert:br},setup:function(){var r=sr(),t=(0,n.Kh)({email:"",password:""}),e=(0,n.KR)(!1),o=(0,n.KR)(""),i=function(r,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:7,n=new Date;n.setTime(n.getTime()+24*e*60*60*1e3),document.cookie="".concat(r,"=").concat(t,";expires=").concat(n.toUTCString(),";path=/;SameSite=Lax")},a=function(){var n,a=(n=wr().m(function n(){var a,u,s;return wr().w(function(n){for(;;)switch(n.p=n.n){case 0:return e.value=!0,o.value="",n.p=1,n.n=2,r.login(t);case 2:a=n.v,i("jwt_token",a.data.token),window.location.href="/dashboard",n.n=4;break;case 3:n.p=3,s=n.v,o.value=(null===(u=s.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.error)||"Erreur de connexion";case 4:return n.p=4,e.value=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}),function(){var r=this,t=arguments;return new Promise(function(e,o){var i=n.apply(r,t);function a(r){Lr(i,e,o,a,u,"next",r)}function u(r){Lr(i,e,o,a,u,"throw",r)}a(void 0)})});return function(){return a.apply(this,arguments)}}();return{form:t,isLoading:e,error:o,handleSubmit:a,clearError:function(){o.value=""}}}},Er=(0,K.A)(xr,[["render",function(r,t,e,o,i,a){var u=(0,n.g2)("Alert"),s=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",tr,[t[6]||(t[6]=(0,n.Lk)("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Connexion",-1)),o.error?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"error",description:o.error,dismissible:"",onDismiss:o.clearError},null,8,["description","onDismiss"])):(0,n.Q3)("v-if",!0),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)},["prevent"])),class:"space-y-4"},[(0,n.Lk)("div",null,[t[3]||(t[3]=(0,n.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=function(r){return o.form.email=r}),type:"email",required:"",class:"form-input",disabled:o.isLoading},null,8,er),[[n.Jo,o.form.email]])]),(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("label",{for:"password",class:"form-label"},"Mot de passe",-1)),(0,n.bo)((0,n.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=function(r){return o.form.password=r}),type:"password",required:"",class:"form-input",disabled:o.isLoading},null,8,nr),[[n.Jo,o.form.password]])]),(0,n.bF)(s,{type:"submit",variant:"primary",loading:o.isLoading,"full-width":""},{default:(0,n.k6)(function(){return t[5]||(t[5]=[(0,n.eW)(" Se connecter ")])}),_:1,__:[5]},8,["loading"])],32),t[7]||(t[7]=(0,n.Lk)("div",{class:"mt-4 text-center"},[(0,n.Lk)("p",{class:"text-sm text-gray-600"},[(0,n.eW)(" Pas encore de compte ? "),(0,n.Lk)("a",{href:"/register",class:"text-primary-600 hover:text-primary-700"}," S'inscrire ")])],-1))])}]]);var jr={class:"card max-w-md mx-auto"},Sr=["disabled"],Or=["disabled"];function Pr(){var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return Cr(c,"_invoke",function(e,n,o){var i,u,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return i=t,u=0,s=r,f.n=e,a}};function p(e,n){for(u=e,s=n,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],p=f.p,v=i[2];e>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,f.v=n,f.n=i[1]):p<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,f.n=v,u=0))}if(o||e>1)return a;throw d=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),u=l,s=v;(t=u<2?r:s)||!d;){i||(u?u<3?(u>1&&(f.n=-1),p(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((t=(d=f.n<0)?s:e.call(n,f))!==a)break}catch(t){i=r,u=1,s=t}finally{c=1}}return{value:t,done:d}}}(e,o,i),!0),c}var a={};function u(){}function s(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Cr(t={},n,function(){return this}),t),d=c.prototype=u.prototype=Object.create(l);function f(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,Cr(r,o,"GeneratorFunction")),r.prototype=Object.create(d),r}return s.prototype=c,Cr(d,"constructor",c),Cr(c,"constructor",s),s.displayName="GeneratorFunction",Cr(c,o,"GeneratorFunction"),Cr(d),Cr(d,o,"Generator"),Cr(d,n,function(){return this}),Cr(d,"toString",function(){return"[object Generator]"}),(Pr=function(){return{w:i,m:f}})()}function Cr(r,t,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}Cr=function(r,t,e,n){if(t)o?o(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e;else{var i=function(t,e){Cr(r,t,function(r){return this._invoke(t,e,r)})};i("next",0),i("throw",1),i("return",2)}},Cr(r,t,e,n)}function _r(r,t,e,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void e(r)}u.done?t(s):Promise.resolve(s).then(n,o)}const Tr={name:"RegisterForm",components:{BaseButton:dr,Alert:br},setup:function(){var r=sr(),t=(0,n.Kh)({email:"",password:""}),e=(0,n.KR)(!1),o=(0,n.KR)(""),i=function(){var n,i=(n=Pr().m(function n(){var i,a;return Pr().w(function(n){for(;;)switch(n.p=n.n){case 0:return e.value=!0,o.value="",n.p=1,n.n=2,r.register(t);case 2:window.location.href="/login",n.n=4;break;case 3:n.p=3,a=n.v,o.value=(null===(i=a.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"Erreur d'inscription";case 4:return n.p=4,e.value=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}),function(){var r=this,t=arguments;return new Promise(function(e,o){var i=n.apply(r,t);function a(r){_r(i,e,o,a,u,"next",r)}function u(r){_r(i,e,o,a,u,"throw",r)}a(void 0)})});return function(){return i.apply(this,arguments)}}();return{form:t,isLoading:e,error:o,handleSubmit:i,clearError:function(){o.value=""}}}},Ar=(0,K.A)(Tr,[["render",function(r,t,e,o,i,a){var u=(0,n.g2)("Alert"),s=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",jr,[t[6]||(t[6]=(0,n.Lk)("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Inscription",-1)),o.error?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"error",description:o.error,dismissible:"",onDismiss:o.clearError},null,8,["description","onDismiss"])):(0,n.Q3)("v-if",!0),(0,n.Lk)("form",{onSubmit:t[2]||(t[2]=(0,n.D$)(function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)},["prevent"])),class:"space-y-4"},[(0,n.Lk)("div",null,[t[3]||(t[3]=(0,n.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{id:"email","onUpdate:modelValue":t[0]||(t[0]=function(r){return o.form.email=r}),type:"email",required:"",class:"form-input",disabled:o.isLoading},null,8,Sr),[[n.Jo,o.form.email]])]),(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("label",{for:"password",class:"form-label"},"Mot de passe",-1)),(0,n.bo)((0,n.Lk)("input",{id:"password","onUpdate:modelValue":t[1]||(t[1]=function(r){return o.form.password=r}),type:"password",required:"",class:"form-input",disabled:o.isLoading},null,8,Or),[[n.Jo,o.form.password]])]),(0,n.bF)(s,{type:"submit",variant:"primary",loading:o.isLoading,"full-width":""},{default:(0,n.k6)(function(){return t[5]||(t[5]=[(0,n.eW)(" S'inscrire ")])}),_:1,__:[5]},8,["loading"])],32)])}]]);var Gr={class:"card"},Dr=["disabled"],Br=["disabled"],Fr=["disabled"];function Ir(){var r,t,e="function"==typeof Symbol?Symbol:{},n=e.iterator||"@@iterator",o=e.toStringTag||"@@toStringTag";function i(e,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return Mr(c,"_invoke",function(e,n,o){var i,u,s,c=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(t,e){return i=t,u=0,s=r,f.n=e,a}};function p(e,n){for(u=e,s=n,t=0;!d&&c&&!o&&t<l.length;t++){var o,i=l[t],p=f.p,v=i[2];e>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=e<2&&p<i[1])?(u=0,f.v=n,f.n=i[1]):p<v&&(o=e<3||i[0]>n||n>v)&&(i[4]=e,i[5]=n,f.n=v,u=0))}if(o||e>1)return a;throw d=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),u=l,s=v;(t=u<2?r:s)||!d;){i||(u?u<3?(u>1&&(f.n=-1),p(u,s)):f.n=s:f.v=s);try{if(c=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((t=(d=f.n<0)?s:e.call(n,f))!==a)break}catch(t){i=r,u=1,s=t}finally{c=1}}return{value:t,done:d}}}(e,o,i),!0),c}var a={};function u(){}function s(){}function c(){}t=Object.getPrototypeOf;var l=[][n]?t(t([][n]())):(Mr(t={},n,function(){return this}),t),d=c.prototype=u.prototype=Object.create(l);function f(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,Mr(r,o,"GeneratorFunction")),r.prototype=Object.create(d),r}return s.prototype=c,Mr(d,"constructor",c),Mr(c,"constructor",s),s.displayName="GeneratorFunction",Mr(c,o,"GeneratorFunction"),Mr(d),Mr(d,o,"Generator"),Mr(d,n,function(){return this}),Mr(d,"toString",function(){return"[object Generator]"}),(Ir=function(){return{w:i,m:f}})()}function Mr(r,t,e,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}Mr=function(r,t,e,n){if(t)o?o(r,t,{value:e,enumerable:!n,configurable:!n,writable:!n}):r[t]=e;else{var i=function(t,e){Mr(r,t,function(r){return this._invoke(t,e,r)})};i("next",0),i("throw",1),i("return",2)}},Mr(r,t,e,n)}function Wr(r,t,e,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void e(r)}u.done?t(s):Promise.resolve(s).then(n,o)}const Xr={name:"JournalEntryForm",components:{BaseButton:dr},emits:["entry-created"],setup:function(r,t){var e=t.emit,o=R(),i=(0,n.Kh)({weight:null,date:(new Date).toISOString().split("T")[0],comment:""}),a=(0,n.KR)(!1),u=function(){var r,t=(r=Ir().m(function r(){var t;return Ir().w(function(r){for(;;)switch(r.p=r.n){case 0:return a.value=!0,r.p=1,r.n=2,o.createEntry(i);case 2:i.weight=null,i.comment="",i.date=(new Date).toISOString().split("T")[0],e("entry-created"),r.n=4;break;case 3:r.p=3,t=r.v,console.error("Erreur lors de l'ajout:",t);case 4:return r.p=4,a.value=!1,r.f(4);case 5:return r.a(2)}},r,null,[[1,3,4,5]])}),function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function a(r){Wr(i,n,o,a,u,"next",r)}function u(r){Wr(i,n,o,a,u,"throw",r)}a(void 0)})});return function(){return t.apply(this,arguments)}}();return{form:i,isLoading:a,handleSubmit:u}}},zr=(0,K.A)(Xr,[["render",function(r,t,e,o,i,a){var u=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",Gr,[t[8]||(t[8]=(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Ajouter un poids",-1)),(0,n.Lk)("form",{onSubmit:t[3]||(t[3]=(0,n.D$)(function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)},["prevent"])),class:"space-y-4"},[(0,n.Lk)("div",null,[t[4]||(t[4]=(0,n.Lk)("label",{for:"weight",class:"form-label"},"Poids (kg)",-1)),(0,n.bo)((0,n.Lk)("input",{id:"weight","onUpdate:modelValue":t[0]||(t[0]=function(r){return o.form.weight=r}),type:"number",step:"0.1",required:"",class:"form-input",disabled:o.isLoading},null,8,Dr),[[n.Jo,o.form.weight,void 0,{number:!0}]])]),(0,n.Lk)("div",null,[t[5]||(t[5]=(0,n.Lk)("label",{for:"date",class:"form-label"},"Date",-1)),(0,n.bo)((0,n.Lk)("input",{id:"date","onUpdate:modelValue":t[1]||(t[1]=function(r){return o.form.date=r}),type:"date",class:"form-input",disabled:o.isLoading},null,8,Br),[[n.Jo,o.form.date]])]),(0,n.Lk)("div",null,[t[6]||(t[6]=(0,n.Lk)("label",{for:"comment",class:"form-label"},"Commentaire (optionnel)",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"comment","onUpdate:modelValue":t[2]||(t[2]=function(r){return o.form.comment=r}),rows:"3",class:"form-input",disabled:o.isLoading},null,8,Fr),[[n.Jo,o.form.comment]])]),(0,n.bF)(u,{type:"submit",variant:"primary",loading:o.isLoading,"full-width":""},{default:(0,n.k6)(function(){return t[7]||(t[7]=[(0,n.eW)(" Ajouter ")])}),_:1,__:[7]},8,["loading"])],32)])}]]);var Nr={class:"card"};const Rr={name:"FriendList"},Vr=(0,K.A)(Rr,[["render",function(r,t,e,o,i,a){return(0,n.uX)(),(0,n.CE)("div",Nr,t[0]||(t[0]=[(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Amis",-1),(0,n.Lk)("p",{class:"text-gray-500"},"Fonctionnalité à venir",-1)]))}]]);var Ur={class:"card"};const Jr={name:"Feed"},Yr=(0,K.A)(Jr,[["render",function(r,t,e,o,i,a){return(0,n.uX)(),(0,n.CE)("div",Ur,t[0]||(t[0]=[(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Flux d'activités",-1),(0,n.Lk)("p",{class:"text-gray-500"},"Fonctionnalité à venir",-1)]))}]]);var Kr={class:"card"};const Qr={name:"ActivityCard"},$r=(0,K.A)(Qr,[["render",function(r,t,e,o,i,a){return(0,n.uX)(),(0,n.CE)("div",Kr,t[0]||(t[0]=[(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Activité",-1),(0,n.Lk)("p",{class:"text-gray-500"},"Fonctionnalité à venir",-1)]))}]]);var qr=function(r,t,e){var i=document.querySelector(e);if(i){console.log("Montage du composant ".concat(r," sur ").concat(e));var a=(0,n.Ef)({}),u=(0,o.Ey)();a.use(u),a.component(r,t),a.mount(i)}else console.log("Élément ".concat(e," non trouvé pour le composant ").concat(r))};document.addEventListener("DOMContentLoaded",function(){console.log("DOM chargé, montage des composants Vue..."),qr("weight-progress-chart",rr,"#weight-progress-chart"),qr("login-form",Er,"#login-form"),qr("register-form",Ar,"#register-form"),qr("journal-entry-form",zr,"#journal-entry-form"),qr("friend-list",Vr,"#friend-list"),qr("feed",Yr,"#feed"),qr("activity-card",$r,"#activity-card"),console.log("Montage des composants terminé")})}},r=>{r.O(0,[941],()=>{return t=213,r(r.s=t);var t});r.O()}]);