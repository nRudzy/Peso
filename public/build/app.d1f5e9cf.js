/*! For license information please see app.d1f5e9cf.js.LICENSE.txt */
"use strict";(self.webpackChunkpeso_frontend=self.webpackChunkpeso_frontend||[]).push([[524],{387:(r,e,t)=>{var n=t(425),o=t(644),i=(0,n.Ef)({}),a=(0,o.Ey)();i.use(a),i.config.globalProperties.$api=window.api,i.config.errorHandler=function(r,e,t){console.error("Vue Error:",r),console.error("Component:",e),console.error("Info:",t)},window.createApp=n.Ef;var u={class:"card"},s={class:"flex items-center justify-between mb-6"},c={class:"flex items-center space-x-2"},l={key:1,class:"text-center py-8"},f={key:2,class:"space-y-4"},d={class:"h-64"},p={ref:"chartCanvas"},v={key:0,class:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t"},m={class:"text-center"},g={class:"text-2xl font-bold text-primary-600"},y={class:"text-center"},h={class:"text-2xl font-bold text-success-600"},b={class:"text-center"},w={class:"text-2xl font-bold text-warning-600"},k={class:"text-center"},L={class:"text-2xl font-bold text-gray-600"};function x(r){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},x(r)}function E(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),t.push.apply(t,n)}return t}function j(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?E(Object(t),!0).forEach(function(e){S(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function S(r,e,t){return(e=function(r){var e=function(r,e){if("object"!=x(r)||!r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var n=t.call(r,e||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"==x(e)?e:e+""}(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var O=t(83).A.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});O.interceptors.request.use(function(r){var e=localStorage.getItem("jwt_token");return e&&(r.headers.Authorization="Bearer ".concat(e)),r},function(r){return Promise.reject(r)}),O.interceptors.response.use(function(r){return r.data&&void 0!==r.data.data?j(j({},r),{},{data:r.data.data,metadata:r.data.metadata}):r},function(r){var e,t;return 401===(null===(e=r.response)||void 0===e?void 0:e.status)&&(localStorage.removeItem("jwt_token"),window.location.href="/login"),422===(null===(t=r.response)||void 0===t?void 0:t.status)?Promise.reject(j(j({},r),{},{validationErrors:r.response.data.errors})):Promise.reject(r)});var P=function(r){return O.post("/auth/login",r)},C=function(r){return O.post("/auth/register",r)},_=function(){return O.get("/auth/profile")},A=function(r){return O.put("/auth/update-profile",r)},T=function(r){return O.post("/auth/change-password",r)},G=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return O.get("/weight-entries?page=".concat(r,"&limit=").concat(e))},D=function(){return O.get("/weight-entries/latest")},B=function(r){return O.post("/weight-entries",r)},F=function(r,e){return O.put("/weight-entries/".concat(r),e)},I=function(r){return O.delete("/weight-entries/".concat(r))},W=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return O.get("/weight-entries/stats/progress?days=".concat(r))};function M(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return X(c,"_invoke",function(t,n,o){var i,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return i=e,u=0,s=r,d.n=t,a}};function p(t,n){for(u=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=d.p,v=i[2];t>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=t<2&&p<i[1])?(u=0,d.v=n,d.n=i[1]):p<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,d.n=v,u=0))}if(o||t>1)return a;throw f=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?r:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==a)break}catch(e){i=r,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(X(e={},n,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,X(r,o,"GeneratorFunction")),r.prototype=Object.create(f),r}return s.prototype=c,X(f,"constructor",c),X(c,"constructor",s),s.displayName="GeneratorFunction",X(c,o,"GeneratorFunction"),X(f),X(f,o,"Generator"),X(f,n,function(){return this}),X(f,"toString",function(){return"[object Generator]"}),(M=function(){return{w:i,m:d}})()}function X(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}X=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var i=function(e,t){X(r,e,function(r){return this._invoke(e,t,r)})};i("next",0),i("throw",1),i("return",2)}},X(r,e,t,n)}function z(r,e,t,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}function N(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(r){z(i,n,o,a,u,"next",r)}function u(r){z(i,n,o,a,u,"throw",r)}a(void 0)})}}function R(r){return function(r){if(Array.isArray(r))return V(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,e){if(r){if("string"==typeof r)return V(r,e);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?V(r,e):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}window.api=O;var $=(0,o.nY)("weight",{state:function(){return{entries:[],latestEntry:null,progress:[],summary:null,pagination:null,isLoading:!1,error:null}},getters:{totalEntries:function(r){return r.entries.length},currentWeight:function(r){var e;return(null===(e=r.latestEntry)||void 0===e?void 0:e.weight)||null},hasEntries:function(r){return r.entries.length>0},sortedEntries:function(r){return R(r.entries).sort(function(r,e){return new Date(e.date)-new Date(r.date)})}},actions:{fetchEntries:function(){var r=arguments,e=this;return N(M().m(function t(){var n,o,i,a,u;return M().w(function(t){for(;;)switch(t.p=t.n){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:1,o=r.length>1&&void 0!==r[1]?r[1]:50,e.isLoading=!0,e.error=null,t.p=1,t.n=2,G(n,o);case 2:return i=t.v,e.entries=i.data,e.pagination=i.metadata,t.a(2,i);case 3:throw t.p=3,u=t.v,e.error=(null===(a=u.response)||void 0===a||null===(a=a.data)||void 0===a?void 0:a.error)||"Erreur de récupération des entrées",u;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},fetchLatestEntry:function(){var r=this;return N(M().m(function e(){var t,n,o;return M().w(function(e){for(;;)switch(e.p=e.n){case 0:return r.isLoading=!0,r.error=null,e.p=1,e.n=2,D();case 2:return t=e.v,r.latestEntry=t.data.entry,e.a(2,t);case 3:throw e.p=3,o=e.v,r.error=(null===(n=o.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Erreur de récupération de la dernière entrée",o;case 4:return e.p=4,r.isLoading=!1,e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}))()},createEntry:function(r){var e=this;return N(M().m(function t(){var n,o,i;return M().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,B(r);case 2:return n=t.v,e.entries.unshift(n.data.entry),(!e.latestEntry||new Date(r.date)>new Date(e.latestEntry.date))&&(e.latestEntry=n.data.entry),t.a(2,n);case 3:throw t.p=3,i=t.v,e.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de création de l'entrée",i;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},updateEntry:function(r,e){var t=this;return N(M().m(function n(){var o,i,a,u,s;return M().w(function(n){for(;;)switch(n.p=n.n){case 0:return t.isLoading=!0,t.error=null,n.p=1,n.n=2,F(r,e);case 2:return i=n.v,-1!==(a=t.entries.findIndex(function(e){return e.id===r}))&&(t.entries[a]=i.data.entry),(null===(o=t.latestEntry)||void 0===o?void 0:o.id)===r&&(t.latestEntry=i.data.entry),n.a(2,i);case 3:throw n.p=3,s=n.v,t.error=(null===(u=s.response)||void 0===u||null===(u=u.data)||void 0===u?void 0:u.error)||"Erreur de mise à jour de l'entrée",s;case 4:return n.p=4,t.isLoading=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}))()},deleteEntry:function(r){var e=this;return N(M().m(function t(){var n,o,i;return M().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,I(r);case 2:e.entries=e.entries.filter(function(e){return e.id!==r}),(null===(n=e.latestEntry)||void 0===n?void 0:n.id)===r&&(e.latestEntry=e.entries[0]||null),t.n=4;break;case 3:throw t.p=3,i=t.v,e.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de suppression de l'entrée",i;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},fetchProgress:function(){var r=arguments,e=this;return N(M().m(function t(){var n,o,i,a;return M().w(function(t){for(;;)switch(t.p=t.n){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:30,e.isLoading=!0,e.error=null,t.p=1,t.n=2,W(n);case 2:return o=t.v,e.progress=o.data.progress,e.summary=o.data.summary,t.a(2,o);case 3:throw t.p=3,a=t.v,e.error=(null===(i=a.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"Erreur de récupération du progrès",a;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},clearError:function(){this.error=null},clearEntries:function(){this.entries=[],this.latestEntry=null,this.progress=[],this.summary=null,this.pagination=null}}}),U=function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null==r?"":Number(r).toFixed(e)},Y={set:function(r,e){try{localStorage.setItem(r,JSON.stringify(e))}catch(r){console.error("Erreur lors du stockage:",r)}},get:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var t=localStorage.getItem(r);return t?JSON.parse(t):e}catch(r){return console.error("Erreur lors de la récupération:",r),e}},remove:function(r){try{localStorage.removeItem(r)}catch(r){console.error("Erreur lors de la suppression:",r)}},clear:function(){try{localStorage.clear()}catch(r){console.error("Erreur lors du nettoyage:",r)}}};window.helpers={formatDate:function(r){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";if(!r)return"";var t=new Date(r),n=t.getFullYear(),o=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0");return e.replace("YYYY",n).replace("MM",o).replace("DD",i)},formatNumber:U,isValidEmail:function(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)},validatePassword:function(r){var e=/[A-Z]/.test(r),t=/[a-z]/.test(r),n=/\d/.test(r);return{isValid:r.length>=6&&e&&t&&n,errors:{length:r.length<6?"Au moins ".concat(6," caractères"):null,uppercase:e?null:"Au moins une majuscule",lowercase:t?null:"Au moins une minuscule",numbers:n?null:"Au moins un chiffre"}}},calculateBMI:function(r,e){if(!r||!e)return null;var t=r,n=e/100;return"lbs"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kg")&&(t=.453592*r),"inch"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"cm")&&(n=.0254*e),t/(n*n)},getBMICategory:function(r){return r?r<18.5?"underweight":r<25?"normal":r<30?"overweight":"obese":null},storage:Y,debounce:function(r,e){var t;return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];clearTimeout(t),t=setTimeout(function(){clearTimeout(t),r.apply(void 0,o)},e)}},throttle:function(r,e){var t;return function(){var n=arguments;t||(r.apply(this,n),t=!0,setTimeout(function(){return t=!1},e))}}};var J={key:0,class:"sr-only"};const K={name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:function(r){return["sm","md","lg"].includes(r)}},showText:{type:Boolean,default:!1}},computed:{spinnerClasses:function(){return"inline-block ".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[this.size])}}};var Q=t(262);const q=(0,Q.A)(K,[["render",function(r,e,t,o,i,a){return(0,n.uX)(),(0,n.CE)("div",{class:(0,n.C4)(a.spinnerClasses),role:"status","aria-label":"Chargement"},[e[0]||(e[0]=(0,n.Lk)("svg",{class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,n.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,n.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),t.showText?((0,n.uX)(),(0,n.CE)("span",J,"Chargement...")):(0,n.Q3)("v-if",!0)],2)}]]);function H(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return Z(c,"_invoke",function(t,n,o){var i,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return i=e,u=0,s=r,d.n=t,a}};function p(t,n){for(u=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=d.p,v=i[2];t>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=t<2&&p<i[1])?(u=0,d.v=n,d.n=i[1]):p<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,d.n=v,u=0))}if(o||t>1)return a;throw f=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?r:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==a)break}catch(e){i=r,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Z(e={},n,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,Z(r,o,"GeneratorFunction")),r.prototype=Object.create(f),r}return s.prototype=c,Z(f,"constructor",c),Z(c,"constructor",s),s.displayName="GeneratorFunction",Z(c,o,"GeneratorFunction"),Z(f),Z(f,o,"Generator"),Z(f,n,function(){return this}),Z(f,"toString",function(){return"[object Generator]"}),(H=function(){return{w:i,m:d}})()}function Z(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}Z=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var i=function(e,t){Z(r,e,function(r){return this._invoke(e,t,r)})};i("next",0),i("throw",1),i("return",2)}},Z(r,e,t,n)}function rr(r,e,t,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}const er={name:"WeightProgressChart",components:{LoadingSpinner:q},props:{userId:{type:[String,Number],required:!0}},setup:function(r){var e=$(),t=(0,n.KR)(null),o=(0,n.KR)(30),i=null,a=(0,n.EW)(function(){return e.isLoading}),u=(0,n.EW)(function(){return e.progress}),s=(0,n.EW)(function(){return e.summary}),c=(0,n.EW)(function(){return u.value.length>0}),l=function(){var r,t=(r=H().m(function r(){var t;return H().w(function(r){for(;;)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.fetchProgress(o.value);case 1:f(),r.n=3;break;case 2:r.p=2,t=r.v,console.error("Erreur lors du chargement du progrès:",t);case 3:return r.a(2)}},r,null,[[0,2]])}),function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(r){rr(i,n,o,a,u,"next",r)}function u(r){rr(i,n,o,a,u,"throw",r)}a(void 0)})});return function(){return t.apply(this,arguments)}}(),f=function(){if(t.value&&c.value){var r=t.value.getContext("2d");i&&i.destroy();var e=u.value.map(function(r){return r.date}),n=u.value.map(function(r){return r.weight}),o=u.value.map(function(r){return r.bmi});i=new Chart(r,{type:"line",data:{labels:e,datasets:[{label:"Poids (kg)",data:n,borderColor:"#0ea5e9",backgroundColor:"rgba(14, 165, 233, 0.1)",borderWidth:2,fill:!0,tension:.4,yAxisID:"y"},{label:"BMI",data:o,borderColor:"#22c55e",backgroundColor:"rgba(34, 197, 94, 0.1)",borderWidth:2,fill:!1,tension:.4,yAxisID:"y1"}]},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{type:"linear",display:!0,position:"left",title:{display:!0,text:"Poids (kg)"}},y1:{type:"linear",display:!0,position:"right",title:{display:!0,text:"BMI"},grid:{drawOnChartArea:!1}}},plugins:{legend:{position:"top"},tooltip:{callbacks:{label:function(r){var e=r.dataset.label||"",t=r.parsed.y;return"".concat(e,": ").concat(U(t))}}}}}})}};return(0,n.sV)(function(){l()}),(0,n.wB)(u,f,{deep:!0}),{chartCanvas:t,selectedPeriod:o,isLoading:a,progress:u,summary:s,hasData:c,fetchProgress:l,formatNumber:U}}},tr=(0,Q.A)(er,[["render",function(r,e,t,o,i,a){var x=(0,n.g2)("LoadingSpinner");return(0,n.uX)(),(0,n.CE)("div",u,[(0,n.Lk)("div",s,[e[3]||(e[3]=(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900"},"Progression du poids",-1)),(0,n.Lk)("div",c,[(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[0]||(e[0]=function(r){return o.selectedPeriod=r}),class:"form-input text-sm py-1",onChange:e[1]||(e[1]=function(){return o.fetchProgress&&o.fetchProgress.apply(o,arguments)})},e[2]||(e[2]=[(0,n.Lk)("option",{value:"7"},"7 jours",-1),(0,n.Lk)("option",{value:"30"},"30 jours",-1),(0,n.Lk)("option",{value:"90"},"90 jours",-1)]),544),[[n.u1,o.selectedPeriod]])])]),o.isLoading?((0,n.uX)(),(0,n.Wv)(x,{key:0,class:"w-8 h-8 mx-auto"})):o.hasData?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.Q3)(" Graphique "),(0,n.Lk)("div",d,[(0,n.Lk)("canvas",p,null,512)]),(0,n.Q3)(" Résumé "),o.summary?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.Lk)("div",m,[(0,n.Lk)("p",g,(0,n.v_)(o.formatNumber(o.summary.currentWeight)),1),e[5]||(e[5]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Poids actuel",-1))]),(0,n.Lk)("div",y,[(0,n.Lk)("p",h,(0,n.v_)(o.formatNumber(o.summary.totalWeightLoss)),1),e[6]||(e[6]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Perte totale",-1))]),(0,n.Lk)("div",b,[(0,n.Lk)("p",w,(0,n.v_)(o.formatNumber(o.summary.remainingWeight)),1),e[7]||(e[7]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Reste à perdre",-1))]),(0,n.Lk)("div",k,[(0,n.Lk)("p",L,(0,n.v_)(o.formatNumber(o.summary.targetWeight)),1),e[8]||(e[8]=(0,n.Lk)("p",{class:"text-sm text-gray-500"},"Objectif",-1))])])):(0,n.Q3)("v-if",!0)])):((0,n.uX)(),(0,n.CE)("div",l,e[4]||(e[4]=[(0,n.Lk)("p",{class:"text-gray-500"},"Aucune donnée disponible",-1),(0,n.Lk)("p",{class:"text-sm text-gray-400 mt-2"},"Ajoutez votre premier poids pour commencer",-1)])))])}]]);var nr={class:"card max-w-md mx-auto"},or=["disabled"],ir=["disabled"];function ar(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return ur(c,"_invoke",function(t,n,o){var i,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return i=e,u=0,s=r,d.n=t,a}};function p(t,n){for(u=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=d.p,v=i[2];t>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=t<2&&p<i[1])?(u=0,d.v=n,d.n=i[1]):p<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,d.n=v,u=0))}if(o||t>1)return a;throw f=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?r:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==a)break}catch(e){i=r,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(ur(e={},n,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,ur(r,o,"GeneratorFunction")),r.prototype=Object.create(f),r}return s.prototype=c,ur(f,"constructor",c),ur(c,"constructor",s),s.displayName="GeneratorFunction",ur(c,o,"GeneratorFunction"),ur(f),ur(f,o,"Generator"),ur(f,n,function(){return this}),ur(f,"toString",function(){return"[object Generator]"}),(ar=function(){return{w:i,m:d}})()}function ur(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}ur=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var i=function(e,t){ur(r,e,function(r){return this._invoke(e,t,r)})};i("next",0),i("throw",1),i("return",2)}},ur(r,e,t,n)}function sr(r,e,t,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}function cr(r){return function(){var e=this,t=arguments;return new Promise(function(n,o){var i=r.apply(e,t);function a(r){sr(i,n,o,a,u,"next",r)}function u(r){sr(i,n,o,a,u,"throw",r)}a(void 0)})}}var lr=(0,o.nY)("auth",{state:function(){return{user:null,token:Y.get("jwt_token"),isLoading:!1,error:null}},getters:{isAuthenticated:function(r){return!!r.token&&!!r.user},userRole:function(r){var e;return(null===(e=r.user)||void 0===e||null===(e=e.roles)||void 0===e?void 0:e[0])||"ROLE_USER"},isAdmin:function(r){var e;return(null===(e=r.user)||void 0===e||null===(e=e.roles)||void 0===e?void 0:e.includes("ROLE_ADMIN"))||!1}},actions:{login:function(r){var e=this;return cr(ar().m(function t(){var n,o,i;return ar().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,P(r);case 2:return n=t.v,e.token=n.data.token,e.user=n.data.user,Y.set("jwt_token",e.token),t.a(2,n);case 3:throw t.p=3,i=t.v,e.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de connexion",i;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},register:function(r){var e=this;return cr(ar().m(function t(){var n,o,i;return ar().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,C(r);case 2:return n=t.v,t.a(2,n);case 3:throw t.p=3,i=t.v,e.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur d'inscription",i;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},fetchProfile:function(){var r=this;return cr(ar().m(function e(){var t,n,o;return ar().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r.token){e.n=1;break}return e.a(2);case 1:return r.isLoading=!0,r.error=null,e.p=2,e.n=3,_();case 3:return t=e.v,r.user=t.data.user,e.a(2,t);case 4:throw e.p=4,o=e.v,r.error=(null===(n=o.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.error)||"Erreur de récupération du profil",o;case 5:return e.p=5,r.isLoading=!1,e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}))()},updateProfile:function(r){var e=this;return cr(ar().m(function t(){var n,o,i;return ar().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,A(r);case 2:return n=t.v,e.user=n.data.user,t.a(2,n);case 3:throw t.p=3,i=t.v,e.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de mise à jour du profil",i;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},changePassword:function(r){var e=this;return cr(ar().m(function t(){var n,o,i;return ar().w(function(t){for(;;)switch(t.p=t.n){case 0:return e.isLoading=!0,e.error=null,t.p=1,t.n=2,T(r);case 2:return n=t.v,t.a(2,n);case 3:throw t.p=3,i=t.v,e.error=(null===(o=i.response)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.error)||"Erreur de changement de mot de passe",i;case 4:return t.p=4,e.isLoading=!1,t.f(4);case 5:return t.a(2)}},t,null,[[1,3,4,5]])}))()},logout:function(){this.user=null,this.token=null,this.error=null,Y.remove("jwt_token")},clearError:function(){this.error=null}}}),fr=["type","disabled"];const dr={name:"BaseButton",components:{LoadingSpinner:q},props:{variant:{type:String,default:"primary",validator:function(r){return["primary","secondary","danger","success","warning"].includes(r)}},size:{type:String,default:"md",validator:function(r){return["sm","md","lg"].includes(r)}},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},computed:{buttonClasses:function(){var r=this.fullWidth?"w-full":"";return"".concat("btn font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2"," ").concat({primary:"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-300",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 disabled:bg-gray-100",danger:"bg-danger-600 text-white hover:bg-danger-700 focus:ring-danger-500 disabled:bg-danger-300",success:"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500 disabled:bg-success-300",warning:"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500 disabled:bg-warning-300"}[this.variant]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2",lg:"px-6 py-3 text-lg"}[this.size]," ").concat(r)}},methods:{handleClick:function(r){this.disabled||this.loading||this.$emit("click",r)}}},pr=(0,Q.A)(dr,[["render",function(r,e,t,o,i,a){var u=(0,n.g2)("LoadingSpinner");return(0,n.uX)(),(0,n.CE)("button",{type:t.type,disabled:t.disabled||t.loading,class:(0,n.C4)(a.buttonClasses),onClick:e[0]||(e[0]=function(){return a.handleClick&&a.handleClick.apply(a,arguments)})},[t.loading?((0,n.uX)(),(0,n.Wv)(u,{key:0,class:"w-4 h-4 mr-2"})):(0,n.Q3)("v-if",!0),(0,n.RG)(r.$slots,"default")],10,fr)}]]);var vr={class:"flex items-start"},mr={class:"flex-shrink-0"},gr={class:"ml-3 flex-1"},yr={class:"text-sm font-medium"},hr={key:0,class:"mt-1 text-sm opacity-90"},br={key:0,class:"ml-auto pl-3"};const wr={name:"Alert",props:{type:{type:String,default:"info",validator:function(r){return["info","success","warning","error"].includes(r)}},description:{type:String,default:""},dismissible:{type:Boolean,default:!1},show:{type:Boolean,default:!0}},computed:{alertClasses:function(){return"".concat("rounded-lg p-4 border"," ").concat({info:"alert-info",success:"alert-success",warning:"alert-warning",error:"alert-error"}[this.type])},dismissButtonClasses:function(){return{info:"text-primary-500 hover:text-primary-700 focus:ring-primary-500",success:"text-success-500 hover:text-success-700 focus:ring-success-500",warning:"text-warning-500 hover:text-warning-700 focus:ring-warning-500",error:"text-danger-500 hover:text-danger-700 focus:ring-danger-500"}[this.type]},iconComponent:function(){return{info:"InfoIcon",success:"SuccessIcon",warning:"WarningIcon",error:"ErrorIcon"}[this.type]}},methods:{handleDismiss:function(){this.$emit("dismiss")}}};"undefined"!=typeof window&&(window.InfoIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />\n    </svg>\n  '},window.SuccessIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />\n    </svg>\n  '},window.WarningIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />\n    </svg>\n  '},window.ErrorIcon={template:'\n    <svg fill="currentColor" viewBox="0 0 20 20">\n      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />\n    </svg>\n  '});const kr=(0,Q.A)(wr,[["render",function(r,e,t,o,i,a){return t.show?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,n.C4)(a.alertClasses),role:"alert"},[(0,n.Lk)("div",vr,[(0,n.Lk)("div",mr,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(a.iconComponent),{class:"w-5 h-5"}))]),(0,n.Lk)("div",gr,[(0,n.Lk)("p",yr,[(0,n.RG)(r.$slots,"default")]),t.description?((0,n.uX)(),(0,n.CE)("p",hr,(0,n.v_)(t.description),1)):(0,n.Q3)("v-if",!0)]),t.dismissible?((0,n.uX)(),(0,n.CE)("div",br,[(0,n.Lk)("button",{type:"button",class:(0,n.C4)(["inline-flex rounded-md p-1.5 focus:outline-none focus:ring-2 focus:ring-offset-2",a.dismissButtonClasses]),onClick:e[0]||(e[0]=function(){return a.handleDismiss&&a.handleDismiss.apply(a,arguments)})},e[1]||(e[1]=[(0,n.Lk)("span",{class:"sr-only"},"Fermer",-1),(0,n.Lk)("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20"},[(0,n.Lk)("path",{"fill-rule":"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1)]),2)])):(0,n.Q3)("v-if",!0)])],2)):(0,n.Q3)("v-if",!0)}]]);function Lr(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return xr(c,"_invoke",function(t,n,o){var i,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return i=e,u=0,s=r,d.n=t,a}};function p(t,n){for(u=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=d.p,v=i[2];t>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=t<2&&p<i[1])?(u=0,d.v=n,d.n=i[1]):p<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,d.n=v,u=0))}if(o||t>1)return a;throw f=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?r:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==a)break}catch(e){i=r,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(xr(e={},n,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,xr(r,o,"GeneratorFunction")),r.prototype=Object.create(f),r}return s.prototype=c,xr(f,"constructor",c),xr(c,"constructor",s),s.displayName="GeneratorFunction",xr(c,o,"GeneratorFunction"),xr(f),xr(f,o,"Generator"),xr(f,n,function(){return this}),xr(f,"toString",function(){return"[object Generator]"}),(Lr=function(){return{w:i,m:d}})()}function xr(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}xr=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var i=function(e,t){xr(r,e,function(r){return this._invoke(e,t,r)})};i("next",0),i("throw",1),i("return",2)}},xr(r,e,t,n)}function Er(r,e,t,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}const jr={name:"LoginForm",components:{BaseButton:pr,Alert:kr},setup:function(){var r=lr(),e=(0,n.Kh)({email:"",password:""}),t=(0,n.KR)(!1),o=(0,n.KR)(""),i=function(){var n,i=(n=Lr().m(function n(){var i,a;return Lr().w(function(n){for(;;)switch(n.p=n.n){case 0:return t.value=!0,o.value="",n.p=1,n.n=2,r.login(e);case 2:window.location.href="/dashboard",n.n=4;break;case 3:n.p=3,a=n.v,o.value=(null===(i=a.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"Erreur de connexion";case 4:return n.p=4,t.value=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}),function(){var r=this,e=arguments;return new Promise(function(t,o){var i=n.apply(r,e);function a(r){Er(i,t,o,a,u,"next",r)}function u(r){Er(i,t,o,a,u,"throw",r)}a(void 0)})});return function(){return i.apply(this,arguments)}}();return{form:e,isLoading:t,error:o,handleSubmit:i,clearError:function(){o.value=""}}}},Sr=(0,Q.A)(jr,[["render",function(r,e,t,o,i,a){var u=(0,n.g2)("Alert"),s=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",nr,[e[6]||(e[6]=(0,n.Lk)("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Connexion",-1)),o.error?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"error",description:o.error,dismissible:"",onDismiss:o.clearError},null,8,["description","onDismiss"])):(0,n.Q3)("v-if",!0),(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,n.D$)(function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)},["prevent"])),class:"space-y-4"},[(0,n.Lk)("div",null,[e[3]||(e[3]=(0,n.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=function(r){return o.form.email=r}),type:"email",required:"",class:"form-input",disabled:o.isLoading},null,8,or),[[n.Jo,o.form.email]])]),(0,n.Lk)("div",null,[e[4]||(e[4]=(0,n.Lk)("label",{for:"password",class:"form-label"},"Mot de passe",-1)),(0,n.bo)((0,n.Lk)("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=function(r){return o.form.password=r}),type:"password",required:"",class:"form-input",disabled:o.isLoading},null,8,ir),[[n.Jo,o.form.password]])]),(0,n.bF)(s,{type:"submit",variant:"primary",loading:o.isLoading,"full-width":""},{default:(0,n.k6)(function(){return e[5]||(e[5]=[(0,n.eW)(" Se connecter ")])}),_:1,__:[5]},8,["loading"])],32),e[7]||(e[7]=(0,n.Lk)("div",{class:"mt-4 text-center"},[(0,n.Lk)("p",{class:"text-sm text-gray-600"},[(0,n.eW)(" Pas encore de compte ? "),(0,n.Lk)("a",{href:"/register",class:"text-primary-600 hover:text-primary-700"}," S'inscrire ")])],-1))])}]]);var Or={class:"card max-w-md mx-auto"},Pr=["disabled"],Cr=["disabled"];function _r(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return Ar(c,"_invoke",function(t,n,o){var i,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return i=e,u=0,s=r,d.n=t,a}};function p(t,n){for(u=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=d.p,v=i[2];t>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=t<2&&p<i[1])?(u=0,d.v=n,d.n=i[1]):p<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,d.n=v,u=0))}if(o||t>1)return a;throw f=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?r:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==a)break}catch(e){i=r,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Ar(e={},n,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,Ar(r,o,"GeneratorFunction")),r.prototype=Object.create(f),r}return s.prototype=c,Ar(f,"constructor",c),Ar(c,"constructor",s),s.displayName="GeneratorFunction",Ar(c,o,"GeneratorFunction"),Ar(f),Ar(f,o,"Generator"),Ar(f,n,function(){return this}),Ar(f,"toString",function(){return"[object Generator]"}),(_r=function(){return{w:i,m:d}})()}function Ar(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}Ar=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var i=function(e,t){Ar(r,e,function(r){return this._invoke(e,t,r)})};i("next",0),i("throw",1),i("return",2)}},Ar(r,e,t,n)}function Tr(r,e,t,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}const Gr={name:"RegisterForm",components:{BaseButton:pr,Alert:kr},setup:function(){var r=lr(),e=(0,n.Kh)({email:"",password:""}),t=(0,n.KR)(!1),o=(0,n.KR)(""),i=function(){var n,i=(n=_r().m(function n(){var i,a;return _r().w(function(n){for(;;)switch(n.p=n.n){case 0:return t.value=!0,o.value="",n.p=1,n.n=2,r.register(e);case 2:window.location.href="/login",n.n=4;break;case 3:n.p=3,a=n.v,o.value=(null===(i=a.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.error)||"Erreur d'inscription";case 4:return n.p=4,t.value=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}),function(){var r=this,e=arguments;return new Promise(function(t,o){var i=n.apply(r,e);function a(r){Tr(i,t,o,a,u,"next",r)}function u(r){Tr(i,t,o,a,u,"throw",r)}a(void 0)})});return function(){return i.apply(this,arguments)}}();return{form:e,isLoading:t,error:o,handleSubmit:i,clearError:function(){o.value=""}}}},Dr=(0,Q.A)(Gr,[["render",function(r,e,t,o,i,a){var u=(0,n.g2)("Alert"),s=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",Or,[e[6]||(e[6]=(0,n.Lk)("h2",{class:"text-2xl font-bold text-gray-900 mb-6"},"Inscription",-1)),o.error?((0,n.uX)(),(0,n.Wv)(u,{key:0,type:"error",description:o.error,dismissible:"",onDismiss:o.clearError},null,8,["description","onDismiss"])):(0,n.Q3)("v-if",!0),(0,n.Lk)("form",{onSubmit:e[2]||(e[2]=(0,n.D$)(function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)},["prevent"])),class:"space-y-4"},[(0,n.Lk)("div",null,[e[3]||(e[3]=(0,n.Lk)("label",{for:"email",class:"form-label"},"Email",-1)),(0,n.bo)((0,n.Lk)("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=function(r){return o.form.email=r}),type:"email",required:"",class:"form-input",disabled:o.isLoading},null,8,Pr),[[n.Jo,o.form.email]])]),(0,n.Lk)("div",null,[e[4]||(e[4]=(0,n.Lk)("label",{for:"password",class:"form-label"},"Mot de passe",-1)),(0,n.bo)((0,n.Lk)("input",{id:"password","onUpdate:modelValue":e[1]||(e[1]=function(r){return o.form.password=r}),type:"password",required:"",class:"form-input",disabled:o.isLoading},null,8,Cr),[[n.Jo,o.form.password]])]),(0,n.bF)(s,{type:"submit",variant:"primary",loading:o.isLoading,"full-width":""},{default:(0,n.k6)(function(){return e[5]||(e[5]=[(0,n.eW)(" S'inscrire ")])}),_:1,__:[5]},8,["loading"])],32)])}]]);var Br={class:"card"},Fr=["disabled"],Ir=["disabled"],Wr=["disabled"];function Mr(){var r,e,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,n,o,i){var s=n&&n.prototype instanceof u?n:u,c=Object.create(s.prototype);return Xr(c,"_invoke",function(t,n,o){var i,u,s,c=0,l=o||[],f=!1,d={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return i=e,u=0,s=r,d.n=t,a}};function p(t,n){for(u=t,s=n,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],p=d.p,v=i[2];t>3?(o=v===n)&&(s=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=r):i[0]<=p&&((o=t<2&&p<i[1])?(u=0,d.v=n,d.n=i[1]):p<v&&(o=t<3||i[0]>n||n>v)&&(i[4]=t,i[5]=n,d.n=v,u=0))}if(o||t>1)return a;throw f=!0,n}return function(o,l,v){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),u=l,s=v;(e=u<2?r:s)||!f;){i||(u?u<3?(u>1&&(d.n=-1),p(u,s)):d.n=s:d.v=s);try{if(c=2,i){if(u||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,u<2&&(u=0)}else 1===u&&(e=i.return)&&e.call(i),u<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=r}else if((e=(f=d.n<0)?s:t.call(n,d))!==a)break}catch(e){i=r,u=1,s=e}finally{c=1}}return{value:e,done:f}}}(t,o,i),!0),c}var a={};function u(){}function s(){}function c(){}e=Object.getPrototypeOf;var l=[][n]?e(e([][n]())):(Xr(e={},n,function(){return this}),e),f=c.prototype=u.prototype=Object.create(l);function d(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,c):(r.__proto__=c,Xr(r,o,"GeneratorFunction")),r.prototype=Object.create(f),r}return s.prototype=c,Xr(f,"constructor",c),Xr(c,"constructor",s),s.displayName="GeneratorFunction",Xr(c,o,"GeneratorFunction"),Xr(f),Xr(f,o,"Generator"),Xr(f,n,function(){return this}),Xr(f,"toString",function(){return"[object Generator]"}),(Mr=function(){return{w:i,m:d}})()}function Xr(r,e,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}Xr=function(r,e,t,n){if(e)o?o(r,e,{value:t,enumerable:!n,configurable:!n,writable:!n}):r[e]=t;else{var i=function(e,t){Xr(r,e,function(r){return this._invoke(e,t,r)})};i("next",0),i("throw",1),i("return",2)}},Xr(r,e,t,n)}function zr(r,e,t,n,o,i,a){try{var u=r[i](a),s=u.value}catch(r){return void t(r)}u.done?e(s):Promise.resolve(s).then(n,o)}const Nr={name:"JournalEntryForm",components:{BaseButton:pr},setup:function(){var r=this,e=$(),t=(0,n.Kh)({weight:null,date:(new Date).toISOString().split("T")[0],comment:""}),o=(0,n.KR)(!1),i=function(){var n,i=(n=Mr().m(function n(){var i;return Mr().w(function(n){for(;;)switch(n.p=n.n){case 0:return o.value=!0,n.p=1,n.n=2,e.createEntry(t);case 2:t.weight=null,t.comment="",t.date=(new Date).toISOString().split("T")[0],r.$emit("entry-created"),n.n=4;break;case 3:n.p=3,i=n.v,console.error("Erreur lors de l'ajout:",i);case 4:return n.p=4,o.value=!1,n.f(4);case 5:return n.a(2)}},n,null,[[1,3,4,5]])}),function(){var r=this,e=arguments;return new Promise(function(t,o){var i=n.apply(r,e);function a(r){zr(i,t,o,a,u,"next",r)}function u(r){zr(i,t,o,a,u,"throw",r)}a(void 0)})});return function(){return i.apply(this,arguments)}}();return{form:t,isLoading:o,handleSubmit:i}}},Rr=(0,Q.A)(Nr,[["render",function(r,e,t,o,i,a){var u=(0,n.g2)("BaseButton");return(0,n.uX)(),(0,n.CE)("div",Br,[e[8]||(e[8]=(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Ajouter un poids",-1)),(0,n.Lk)("form",{onSubmit:e[3]||(e[3]=(0,n.D$)(function(){return o.handleSubmit&&o.handleSubmit.apply(o,arguments)},["prevent"])),class:"space-y-4"},[(0,n.Lk)("div",null,[e[4]||(e[4]=(0,n.Lk)("label",{for:"weight",class:"form-label"},"Poids (kg)",-1)),(0,n.bo)((0,n.Lk)("input",{id:"weight","onUpdate:modelValue":e[0]||(e[0]=function(r){return o.form.weight=r}),type:"number",step:"0.1",required:"",class:"form-input",disabled:o.isLoading},null,8,Fr),[[n.Jo,o.form.weight,void 0,{number:!0}]])]),(0,n.Lk)("div",null,[e[5]||(e[5]=(0,n.Lk)("label",{for:"date",class:"form-label"},"Date",-1)),(0,n.bo)((0,n.Lk)("input",{id:"date","onUpdate:modelValue":e[1]||(e[1]=function(r){return o.form.date=r}),type:"date",class:"form-input",disabled:o.isLoading},null,8,Ir),[[n.Jo,o.form.date]])]),(0,n.Lk)("div",null,[e[6]||(e[6]=(0,n.Lk)("label",{for:"comment",class:"form-label"},"Commentaire (optionnel)",-1)),(0,n.bo)((0,n.Lk)("textarea",{id:"comment","onUpdate:modelValue":e[2]||(e[2]=function(r){return o.form.comment=r}),rows:"3",class:"form-input",disabled:o.isLoading},null,8,Wr),[[n.Jo,o.form.comment]])]),(0,n.bF)(u,{type:"submit",variant:"primary",loading:o.isLoading,"full-width":""},{default:(0,n.k6)(function(){return e[7]||(e[7]=[(0,n.eW)(" Ajouter ")])}),_:1,__:[7]},8,["loading"])],32)])}]]);var Vr={class:"card"};const $r={name:"FriendList"},Ur=(0,Q.A)($r,[["render",function(r,e,t,o,i,a){return(0,n.uX)(),(0,n.CE)("div",Vr,e[0]||(e[0]=[(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Amis",-1),(0,n.Lk)("p",{class:"text-gray-500"},"Fonctionnalité à venir",-1)]))}]]);var Yr={class:"card"};const Jr={name:"Feed"},Kr=(0,Q.A)(Jr,[["render",function(r,e,t,o,i,a){return(0,n.uX)(),(0,n.CE)("div",Yr,e[0]||(e[0]=[(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Flux d'activités",-1),(0,n.Lk)("p",{class:"text-gray-500"},"Fonctionnalité à venir",-1)]))}]]);var Qr={class:"card"};const qr={name:"ActivityCard"},Hr=(0,Q.A)(qr,[["render",function(r,e,t,o,i,a){return(0,n.uX)(),(0,n.CE)("div",Qr,e[0]||(e[0]=[(0,n.Lk)("h3",{class:"text-lg font-semibold text-gray-900 mb-4"},"Activité",-1),(0,n.Lk)("p",{class:"text-gray-500"},"Fonctionnalité à venir",-1)]))}]]);var Zr=function(r,e,t){var n=document.querySelector(t);if(n){var o=createApp({});o.component(r,e),o.mount(n)}};document.addEventListener("DOMContentLoaded",function(){Zr("weight-progress-chart",tr,"#weight-progress-chart"),Zr("login-form",Sr,"#login-form"),Zr("register-form",Dr,"#register-form"),Zr("journal-entry-form",Rr,"#journal-entry-form"),Zr("friend-list",Ur,"#friend-list"),Zr("feed",Kr,"#feed"),Zr("activity-card",Hr,"#activity-card")})}},r=>{r.O(0,[941],()=>{return e=387,r(r.s=e);var e});r.O()}]);